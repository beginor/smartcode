@using SmartCode
@using SmartCode.Generator.Entity
@using static SmartCode.Generator.RazorTemplates.Contributions.AppFx.Common
@inherits SmartCode.TemplateEngine.Impl.RazorCoreTemplate<SmartCode.BuildContext>
@{
    var project = Model.Project;
    var buildTask = Model.Build;
    var table = Model.GetCurrentTable();
    var normalColumns = table.Columns.Where(col => !col.IsPrimaryKey);
}
using System;
using System.ComponentModel.DataAnnotations;
using Beginor.AppFx.Core;

#nullable disable

namespace @(project.Author).@(project.Module).@(buildTask.Module);

@($"/// <summary>{table.GetSummary()}模型</summary>")
public partial class @(table.ConvertedName + "Model") : StringEntity {

@foreach (var col in normalColumns) {
    @(PadLeft(4) + $"/// <summary>{col.GetSummary()}</summary>{NewLine()}")
    @if (!col.IsNullable) { @(PadLeft(4) + $"[Required(ErrorMessage = \"{col.GetSummary()} 必须填写！\")]{NewLine()}") }
    @(PadLeft(4) + $"public {ConvertCsModelType(col)} {col.ConvertedName} {{ get; set; }}{NewLine()}")
}

}

@($"/// <summary>{table.GetSummary()}搜索参数</summary>")
public partial class @(table.ConvertedName)SearchModel : PaginatedRequestModel { }

